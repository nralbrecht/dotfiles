# VARIABLES
set $win Mod4
set $alt Mod1

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# WINDOWS
font pango:Fira Sans Semi Bold 9
floating_modifier $win
hide_edge_borders both

# KILL FOCUSED WINDOW
bindsym $win+Shift+q kill

# START PROGRAM LAUNCHER
# bindsym $win+d exec dmenu_run
bindsym $win+d exec rofi -show run

# CHANGE FOCUS
bindsym $win+j focus left
bindsym $win+k focus down
bindsym $win+l focus up
bindsym $win+odiaeresis focus right

bindsym $win+Left focus left
bindsym $win+Down focus down
bindsym $win+Up focus up
bindsym $win+Right focus right

# MOVE FOCUSED WINDOW
bindsym $win+Shift+j move left
bindsym $win+Shift+k move down
bindsym $win+Shift+l move up
bindsym $win+Shift+odiaeresis move right

bindsym $win+Shift+Left move left
bindsym $win+Shift+Down move down
bindsym $win+Shift+Up move up
bindsym $win+Shift+Right move right

# FOCUS THE PARENT CONTAINER
bindsym $win+a focus parent
bindsym $win+Shift+a focus child

# CONTAINER LAYOUTS
bindsym $win+h split h
bindsym $win+v split v
bindsym $win+s layout stacking
bindsym $win+w layout tabbed
bindsym $win+e layout toggle split
bindsym $win+f fullscreen toggle

# RESIZING WINDOWS USING KEYBOARD
bindsym $win+Ctrl+Right resize shrink width 3 px or 3 ppt
bindsym $win+Ctrl+Up resize grow height 3 px or 3 ppt
bindsym $win+Ctrl+Down resize shrink height 3 px or 3 ppt
bindsym $win+Ctrl+Left resize grow width 3 px or 3 ppt

# TOGGLE FLOATING
bindsym $win+space focus mode_toggle

# SCRATCHPADS
bindsym $win+Shift+Tab move scratchpad
bindsym $win+Tab scratchpad show
bindsym $win+Shift+space floating toggle

# NEXT/PREVIOUS WORKSPACE
bindsym $alt+Tab focus right
bindsym $alt+Shift+Tab focus left

# SWITCH TO WORKSPACE
bindsym $win+1 workspace $ws1
bindsym $win+2 workspace $ws2
bindsym $win+3 workspace $ws3
bindsym $win+4 workspace $ws4
bindsym $win+5 workspace $ws5
bindsym $win+6 workspace $ws6
bindsym $win+7 workspace $ws7
bindsym $win+8 workspace $ws8
bindsym $win+9 workspace $ws9
bindsym $win+0 workspace $ws10

# MOVE FOCUSED CONTAINER TO WORKSPACE
bindsym $win+Shift+1 move container to workspace $ws1
bindsym $win+Shift+2 move container to workspace $ws2
bindsym $win+Shift+3 move container to workspace $ws3
bindsym $win+Shift+4 move container to workspace $ws4
bindsym $win+Shift+5 move container to workspace $ws5
bindsym $win+Shift+6 move container to workspace $ws6
bindsym $win+Shift+7 move container to workspace $ws7
bindsym $win+Shift+8 move container to workspace $ws8
bindsym $win+Shift+9 move container to workspace $ws9
bindsym $win+Shift+0 move container to workspace $ws10

# POWER MENU
set $sysmenu "po[W]eroff - re[B]oot - [L]ogout - [S]uspend - [R]eload - r[E]start"
bindsym $win+q mode $sysmenu

mode $sysmenu {
    bindsym w           exec "systemctl poweroff"
    bindsym $win+w      exec "systemctl poweroff"

    bindsym b           exec "systemctl reboot"
    bindsym $win+b      exec "systemctl reboot"

    bindsym l           exit
    bindsym $win+l      exit

    bindsym s           exec "systemctl suspend"
    bindsym $win+s      exec "systemctl suspend"

    bindsym r           reload
    bindsym $win+r      reload

    bindsym e           restart
    bindsym $win+e      restart

    bindsym Return      mode "default"
    bindsym $win+Return mode "default"

    bindsym Escape      mode "default"
    bindsym $win+Escape mode "default"
}

# I3 BAR
client.focused          #196584 #005577 #eeeeee #006891
client.focused_inactive #565656 #444444 #eeeeee #5E5E5E
client.unfocused        #373737 #222222 #bbbbbb #3B3B3B
client.urgent           #7E1919 #700000 #eeeeee #8A0000

# PROGRAMM LAUNCHER
bindsym $win+i exec --no-startup-id pcmanfm
bindsym $win+o exec --no-startup-id alacritty --title "Ranger" --command "ranger"
bindsym $win+Return exec --no-startup-id alacritty
bindsym XF86Calculator exec --no-startup-id "alacritty --title 'Sage Math' --command 'sage'"

# SCREENSHOT
bindsym --release Print exec --no-startup-id "maim --select --hidecursor | xclip -selection clipboard -t image/png"
bindsym --release Ctrl+Print exec --no-startup-id "maim --hidecursor -i $(xdotool getactivewindow) | xclip -selection clipboard -t image/png"
bindsym --release Shift+Print exec --no-startup-id "maim --select --hidecursor $HOME/downloads/$(date +%Y-%m-%d_%H-%M-%S).png"
bindsym --release Ctrl+Shift+Print exec --no-startup-id "maim --hidecursor -i $(xdotool getactivewindow) $HOME/downloads/$(date +%Y-%m-%d_%H-%M-%S).png"

# AUTOSTART
exec --no-startup-id "$HOME/.config/i3/startup"

# AUDIO CONTROLLS
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute `pacmd list-sinks | awk '/* index:/{print $3}'` toggle

bindsym $win+$alt+KP_Add exec --no-startup-id spotify-volume + 5
bindsym $win+$alt+KP_Subtract exec --no-startup-id spotify-volume - 5

# MEDIA PLAYER CONTROLS
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioPause exec --no-startup-id playerctl pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

# LOAD X RESOURCES
exec --no-startup-id "[[ -f ~/.Xresources ]] && xrdb -merge -I$HOME ~/.Xresources"

# WINDOW PRESETS
for_window [class="Yad"] floating enable